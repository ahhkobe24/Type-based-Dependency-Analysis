<html>
<head>
<style>
body{
margin: 20px;
color: black;
background - color: #eee;
font - family: Consolas;
font - weight: 600;
font - size: 110 % ;}
.indent{ margin - left: 20px; margin - right: 20px;}
h4{margin - bottom: 3px;margin - top: 3px;}
</style>
</head>
<body>
<h3>Persist.cpp</h3>
<hr/>
<pre>
<script>function ShowIt(id) {
if (id.style.display == "block")
id.style.display = "none";
else
id.style.display = "block";
};
</script>
<style>div{ display:inline }</style>///////////////////////////////////////////////////////////////////////
//// Persist.cpp - store and retrieve NoSqlDb contents               //
//// ver 2.0                                                         //
//// Jim Fawcett, CSE687 - Object Oriented Design, Spring 2017       //
///////////////////////////////////////////////////////////////////////
//
//#ifdef TEST_PERSIST
//
//#include "Persist.h"
//#include "../Display/Display.h"
//#include &lt;string&gt;
//
//using namespace NoSQLDB;
//
//int main()
//{
//	Utilities::Title("Testing NoSqlDb Persistance");
//	Utilities::putLine();
//
//	using Element = Element&lt;std::string&gt;;
//
//	NoSqlDb&lt;std::string&gt; db;
//
//	Element test1("test1", "test");
//	test1.data = "test1 string";
//
//	Element test2("test2", "test");
//	test2.data = "test2 string";
//	test2.saveChild("test1");
//
//	Element test3("test3", "test");
//	test3.data = "test3 string";
//	test3.saveChild("test1");
//	test3.saveChild("test2");
//
//	db.saveRecord("test1", test1);
//	db.saveRecord("test2", test2);
//	db.saveRecord("test3", test3);
//
//	Utilities::subTitle("displaying test db");
//	Utilities::putLines(2);
//
//	Display&lt;std::string&gt; display(db);
//	display.showAll();
//
//	Persist&lt;std::string&gt; persist(db);
//	Persist&lt;std::string&gt;::Xml xml = persist.save();
//	Utilities::subTitle("Persisting test db to XML");
//	std::cout &lt;&lt; "\n" &lt;&lt; xml &lt;&lt; "\n";
//
//	Utilities::subTitle("Persisting test db to file DbXml.txt");
//	if (persist.saveToFile("DbXml.txt"))
//		std::cout &lt;&lt; "\n  db saved";
//	else
//		std::cout &lt;&lt; "\n  filesave failed";
//	Utilities::putLine();
//
//	Utilities::subTitle("creating new db from persisted XML");
//	Utilities::putLines(2);
//
//	NoSqlDb&lt;std::string&gt; newDb;
//	Persist&lt;std::string&gt; persist2(newDb);
//	persist2.restore(xml);
//
//	Display&lt;std::string&gt; display2(newDb);
//	display2.showAll();
//
//	Utilities::subTitle("creating newer db from DbXml.txt");
//	Utilities::putLines(2);
//	NoSqlDb&lt;std::string&gt; newerDb;
//	Persist&lt;std::string&gt; persist3(newerDb);
//	persist3.restoreFromFile("DbXml.Txt");
//	Display&lt;std::string&gt; display3(newerDb);
//	display3.showAll();
//
//	std::cout &lt;&lt; "\n\n";
//}
//#endif

</pre>
</body>
</html>
